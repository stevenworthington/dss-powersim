<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Simulation-Based Power Analysis | dss-powersim</title>
  <meta name="description" content="This is a tutorial for power simulation" />
  <meta name="generator" content="bookdown 0.33 and GitBook 2.6.7" />

  <meta property="og:title" content="Simulation-Based Power Analysis | dss-powersim" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="This is a tutorial for power simulation" />
  <meta name="github-repo" content="IQSS/dss-powersim" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Simulation-Based Power Analysis | dss-powersim" />
  
  <meta name="twitter:description" content="This is a tutorial for power simulation" />
  

<meta name="author" content="" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  

<link rel="next" href="power-analysis.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Power Simulation</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Simulation-Based Power Analysis</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#table-of-contents"><i class="fa fa-check"></i>Table of Contents</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#contributors"><i class="fa fa-check"></i>Contributors</a></li>
</ul></li>
<li class="part"><span><b>I Concepts</b></span></li>
<li class="chapter" data-level="1" data-path="power-analysis.html"><a href="power-analysis.html"><i class="fa fa-check"></i><b>1</b> Power Analysis</a>
<ul>
<li class="chapter" data-level="1.1" data-path="power-analysis.html"><a href="power-analysis.html#canned-routines"><i class="fa fa-check"></i><b>1.1</b> Canned routines</a></li>
<li class="chapter" data-level="1.2" data-path="power-analysis.html"><a href="power-analysis.html#step-by-step"><i class="fa fa-check"></i><b>1.2</b> Step by step</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="simulation.html"><a href="simulation.html"><i class="fa fa-check"></i><b>2</b> Simulation</a>
<ul>
<li class="chapter" data-level="2.1" data-path="simulation.html"><a href="simulation.html#customization"><i class="fa fa-check"></i><b>2.1</b> Customization</a></li>
<li class="chapter" data-level="2.2" data-path="simulation.html"><a href="simulation.html#step-by-step-1"><i class="fa fa-check"></i><b>2.2</b> Step by step</a></li>
</ul></li>
<li class="part"><span><b>II Preparation</b></span></li>
<li class="chapter" data-level="3" data-path="power-of-what.html"><a href="power-of-what.html"><i class="fa fa-check"></i><b>3</b> Power of What?</a>
<ul>
<li class="chapter" data-level="3.1" data-path="power-of-what.html"><a href="power-of-what.html#study-design"><i class="fa fa-check"></i><b>3.1</b> Study design</a></li>
<li class="chapter" data-level="3.2" data-path="power-of-what.html"><a href="power-of-what.html#simple-linear-regression"><i class="fa fa-check"></i><b>3.2</b> Simple linear regression</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="power-of-what.html"><a href="power-of-what.html#step-1-model-specification"><i class="fa fa-check"></i><b>3.2.1</b> Step 1: model specification</a></li>
<li class="chapter" data-level="3.2.2" data-path="power-of-what.html"><a href="power-of-what.html#step-2-variable-composition"><i class="fa fa-check"></i><b>3.2.2</b> Step 2: Variable composition</a></li>
<li class="chapter" data-level="3.2.3" data-path="power-of-what.html"><a href="power-of-what.html#step-3-parameter-composition"><i class="fa fa-check"></i><b>3.2.3</b> Step 3: Parameter composition</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="power-of-what.html"><a href="power-of-what.html#mixed-effects-model"><i class="fa fa-check"></i><b>3.3</b> Mixed effects model</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="power-of-what.html"><a href="power-of-what.html#step-1-model-specification-1"><i class="fa fa-check"></i><b>3.3.1</b> Step 1: model specification</a></li>
<li class="chapter" data-level="3.3.2" data-path="power-of-what.html"><a href="power-of-what.html#step-2-variable-composition-1"><i class="fa fa-check"></i><b>3.3.2</b> Step 2: Variable composition</a></li>
<li class="chapter" data-level="3.3.3" data-path="power-of-what.html"><a href="power-of-what.html#step-3-parameter-composition-1"><i class="fa fa-check"></i><b>3.3.3</b> Step 3: Parameter composition</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>III Implementation</b></span></li>
<li class="chapter" data-level="4" data-path="r.html"><a href="r.html"><i class="fa fa-check"></i><b>4</b> R</a>
<ul>
<li class="chapter" data-level="4.1" data-path="r.html"><a href="r.html#simple-linear-regression-1"><i class="fa fa-check"></i><b>4.1</b> Simple linear regression</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="r.html"><a href="r.html#setup"><i class="fa fa-check"></i><b>4.1.1</b> Setup</a></li>
<li class="chapter" data-level="4.1.2" data-path="r.html"><a href="r.html#steps-4-5-simulate-and-automate"><i class="fa fa-check"></i><b>4.1.2</b> Steps 4-5: Simulate and automate</a></li>
<li class="chapter" data-level="4.1.3" data-path="r.html"><a href="r.html#step-6-summarize"><i class="fa fa-check"></i><b>4.1.3</b> Step 6: Summarize</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="r.html"><a href="r.html#mixed-effects-model-1"><i class="fa fa-check"></i><b>4.2</b> Mixed effects model</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="r.html"><a href="r.html#step-4-5-simulate-automate"><i class="fa fa-check"></i><b>4.2.1</b> Step 4-5: Simulate &amp; automate</a></li>
<li class="chapter" data-level="4.2.2" data-path="r.html"><a href="r.html#step-6-summarize-1"><i class="fa fa-check"></i><b>4.2.2</b> Step 6: Summarize</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="python.html"><a href="python.html"><i class="fa fa-check"></i><b>5</b> Python</a>
<ul>
<li class="chapter" data-level="5.1" data-path="python.html"><a href="python.html#simple-linear-regression-2"><i class="fa fa-check"></i><b>5.1</b> Simple linear regression</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="python.html"><a href="python.html#setup-1"><i class="fa fa-check"></i><b>5.1.1</b> Setup</a></li>
<li class="chapter" data-level="5.1.2" data-path="python.html"><a href="python.html#step-4-simulate"><i class="fa fa-check"></i><b>5.1.2</b> Step 4: Simulate</a></li>
<li class="chapter" data-level="5.1.3" data-path="python.html"><a href="python.html#step-5-automate"><i class="fa fa-check"></i><b>5.1.3</b> Step 5: Automate</a></li>
<li class="chapter" data-level="5.1.4" data-path="python.html"><a href="python.html#step-6-summarize-2"><i class="fa fa-check"></i><b>5.1.4</b> Step 6: Summarize</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="python.html"><a href="python.html#mixed-effects-model-2"><i class="fa fa-check"></i><b>5.2</b> Mixed effects model</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="python.html"><a href="python.html#step-4-simulate-1"><i class="fa fa-check"></i><b>5.2.1</b> Step 4: Simulate</a></li>
<li class="chapter" data-level="5.2.2" data-path="python.html"><a href="python.html#step-5-automate-1"><i class="fa fa-check"></i><b>5.2.2</b> Step 5: Automate</a></li>
<li class="chapter" data-level="5.2.3" data-path="python.html"><a href="python.html#step-6-summarize-3"><i class="fa fa-check"></i><b>5.2.3</b> Step 6: Summarize</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="stata.html"><a href="stata.html"><i class="fa fa-check"></i><b>6</b> Stata</a>
<ul>
<li class="chapter" data-level="6.1" data-path="stata.html"><a href="stata.html#simple-linear-regression-3"><i class="fa fa-check"></i><b>6.1</b> Simple linear regression</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="stata.html"><a href="stata.html#setup-2"><i class="fa fa-check"></i><b>6.1.1</b> Setup</a></li>
<li class="chapter" data-level="6.1.2" data-path="stata.html"><a href="stata.html#step-4-simulate-2"><i class="fa fa-check"></i><b>6.1.2</b> Step 4: Simulate</a></li>
<li class="chapter" data-level="6.1.3" data-path="stata.html"><a href="stata.html#step-5-automate-2"><i class="fa fa-check"></i><b>6.1.3</b> Step 5: Automate</a></li>
<li class="chapter" data-level="6.1.4" data-path="stata.html"><a href="stata.html#step-6-summarize-4"><i class="fa fa-check"></i><b>6.1.4</b> Step 6: Summarize</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="stata.html"><a href="stata.html#mixed-effects-model-3"><i class="fa fa-check"></i><b>6.2</b> Mixed effects model</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="stata.html"><a href="stata.html#setup-3"><i class="fa fa-check"></i><b>6.2.1</b> Setup</a></li>
<li class="chapter" data-level="6.2.2" data-path="stata.html"><a href="stata.html#step-4-simulate-3"><i class="fa fa-check"></i><b>6.2.2</b> Step 4: Simulate</a></li>
<li class="chapter" data-level="6.2.3" data-path="stata.html"><a href="stata.html#step-5-automate-3"><i class="fa fa-check"></i><b>6.2.3</b> Step 5: Automate</a></li>
<li class="chapter" data-level="6.2.4" data-path="stata.html"><a href="stata.html#step-6-summarize-5"><i class="fa fa-check"></i><b>6.2.4</b> Step 6: Summarize</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>IV Appendix</b></span></li>
<li class="chapter" data-level="7" data-path="software-comparison.html"><a href="software-comparison.html"><i class="fa fa-check"></i><b>7</b> Software Comparison</a></li>
<li class="chapter" data-level="" data-path="resources.html"><a href="resources.html"><i class="fa fa-check"></i>Resources</a>
<ul>
<li class="chapter" data-level="" data-path="resources.html"><a href="resources.html#r-1"><i class="fa fa-check"></i>R</a></li>
<li class="chapter" data-level="" data-path="resources.html"><a href="resources.html#stata-1"><i class="fa fa-check"></i>Stata</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<!--bookdown:title:end-->
<!--bookdown:title:start-->
<div id="simulation-based-power-analysis" class="section level1 unnumbered hasAnchor">
<h1>Simulation-Based Power Analysis<a href="index.html#simulation-based-power-analysis" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>This tutorial is designed to be a quick-start guide for conducting simulation-based power analyses in R, Python, and Stata. We focus particularly on power for mixed effects models, but the principles employed can be repurposed for any model and study design. The tutorial is suitable for anyone with a intermediate understanding of mixed effects models and coding in either R, Python, or Stata.</p>
<p>While high-level packages exist in some of these languages for conducting simulation-based power analysis (e.g., the R packages <a href="https://cran.r-project.org/web/packages/simr/vignettes/fromscratch.html"><code>{simr}</code></a>, <a href="https://cran.r-project.org/web/packages/longpower/vignettes/longpower.html"><code>{longpower}</code></a>, and <a href="https://cran.r-project.org/web/packages/simglm/vignettes/tidy_simulation.html"><code>{simglm}</code></a>), such packages abstract away the details of conducting simulations and thus are best used after gaining an understanding of the power simulation process. In addition, rolling your own simulations from scratch provides much more flexibility to tackle different study designs and models - and it’s fun!</p>
<p>We are always grateful for any feedback you are willing to provide about our tutorials! Please email <a href="mailto:help@iq.harvard.edu" class="email">help@iq.harvard.edu</a> with any thoughts.</p>
<div id="table-of-contents" class="section level2 unnumbered hasAnchor">
<h2>Table of Contents<a href="index.html#table-of-contents" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ol style="list-style-type: decimal">
<li><a href="./power-analysis.html">Canned Power Analysis</a></li>
<li><a href="./simulation.html">Simulation-based Power Analysis</a></li>
<li><a href="./power-of-what.html">Power of What?</a></li>
<li><a href="./r-1.html">R Examples</a></li>
<li><a href="./python.html">Python Examples</a></li>
<li><a href="./stata-1.html">Stata Examples</a></li>
<li><a href="./software-comparison.html">Software Comparison</a></li>
<li><a href="./resources.html">Resources</a></li>
</ol>
<p> </p>
<p><img src="images/Ultimate_Power_Vol_1_5_Textless.png" /></p>
</div>
<div id="contributors" class="section level2 unnumbered hasAnchor">
<h2>Contributors<a href="index.html#contributors" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The contents of these workshops are the result of a collaborative effort from members of the <a href="http://dss.iq.harvard.edu">Data Science Services</a> team at the Institute for Quantitative Social Science at Harvard University. The main contributors are Steve Worthington and Dan Yuan, with additional feedback from Jinjie Liu and Noah Greifer.</p>

</div>
</div>



            </section>

          </div>
        </div>
      </div>

<a href="power-analysis.html" class="navigation navigation-next navigation-unique" aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/IQSS/dss-powersim/edit/master/index.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["dss-powersim.pdf", "dss-powersim.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section",
"scroll_highlight": true
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
